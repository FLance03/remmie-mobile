CREATE DATABASE remmie;
CREATE TABLE remmie.users(id BIGINT PRIMARY KEY AUTO_INCREMENT, first_name VARCHAR(255), last_name VARCHAR(255), email VARCHAR(255), password VARCHAR(255),  date_created DATETIME DEFAULT CURRENT_TIMESTAMP, date_updated DATETIME ON UPDATE CURRENT_TIMESTAMP, date_deleted DATETIME DEFAULT NULL);
CREATE TABLE remmie.contact_informations(id BIGINT PRIMARY KEY AUTO_INCREMENT, user_id BIGINT, contact_type VARCHAR(255), date_created DATETIME DEFAULT CURRENT_TIMESTAMP, date_updated DATETIME ON UPDATE CURRENT_TIMESTAMP, date_deleted DATETIME DEFAULT NULL, FOREIGN KEY(user_id) REFERENCES remmie.users(id));
CREATE TABLE remmie.establishments(id BIGINT PRIMARY KEY AUTO_INCREMENT, company_name VARCHAR(255),contact_information VARCHAR(255), is_partnered TINYINT, date_created DATETIME DEFAULT CURRENT_TIMESTAMP, date_updated DATETIME ON UPDATE CURRENT_TIMESTAMP, date_deleted DATETIME DEFAULT NULL);
CREATE TABLE remmie.hotels(id BIGINT PRIMARY KEY AUTO_INCREMENT, establishment_id BIGINT, name VARCHAR(255), star INT, rating FLOAT, country VARCHAR(255), province VARCHAR(255), city VARCHAR(255), street VARCHAR(255), description TEXT, image VARCHAR(255), contact_information VARCHAR(255), date_created DATETIME DEFAULT CURRENT_TIMESTAMP, date_updated DATETIME ON UPDATE CURRENT_TIMESTAMP, date_deleted DATETIME DEFAULT NULL, FOREIGN KEY(establishment_id) REFERENCES remmie.establishments(id));
CREATE TABLE remmie.reservations(id BIGINT PRIMARY KEY AUTO_INCREMENT, user_id BIGINT, hotel_id BIGINT, room_type VARCHAR(255), room_number INT, room_floor INT, price_per_room INT, payment_option VARCHAR(255), date_checkin DATETIME DEFAULT NULL, date_checkout DATETIME DEFAULT NULL, date_created DATETIME DEFAULT CURRENT_TIMESTAMP, date_updated DATETIME ON UPDATE CURRENT_TIMESTAMP, date_deleted DATETIME DEFAULT NULL, FOREIGN KEY(user_id) REFERENCES remmie.users(id),FOREIGN KEY(hotel_id) REFERENCES remmie.hotels(id));
CREATE TABLE remmie.room_services(id BIGINT PRIMARY KEY AUTO_INCREMENT, user_id BIGINT, reservation_id BIGINT, service_type TINYINT, time_serviced DATETIME DEFAULT NULL, date_created DATETIME DEFAULT CURRENT_TIMESTAMP, date_updated DATETIME ON UPDATE CURRENT_TIMESTAMP, date_deleted DATETIME DEFAULT NULL, FOREIGN KEY(user_id) REFERENCES remmie.users(id), FOREIGN KEY(reservation_id) REFERENCES remmie.reservations(id));
CREATE TABLE remmie.announcements(id BIGINT PRIMARY KEY AUTO_INCREMENT, hotel_id BIGINT, title VARCHAR(255) DEFAULT NULL, start_time DATETIME, end_time DATETIME, image VARCHAR(255), description TEXT, date_created DATETIME DEFAULT CURRENT_TIMESTAMP, date_updated DATETIME ON UPDATE CURRENT_TIMESTAMP, date_deleted DATETIME DEFAULT NULL, FOREIGN KEY(hotel_id) REFERENCES remmie.hotels(id));
CREATE TABLE remmie.line_items(id BIGINT PRIMARY KEY AUTO_INCREMENT, room_service_id BIGINT, product_id BIGINT, price FLOAT, quantity INT, FOREIGN KEY (room_service_id) REFERENCES remmie.room_services(id));
CREATE TABLE remmie.notifications(id BIGINT PRIMARY KEY AUTO_INCREMENT, user_id BIGINT, type VARCHAR(255), message TEXT, FOREIGN KEY(user_id) REFERENCES remmie.users(id));
CREATE TABLE remmie.preview_images(id BIGINT PRIMARY KEY AUTO_INCREMENT, hotel_id BIGINT, image VARCHAR(255), date_created DATETIME DEFAULT CURRENT_TIMESTAMP, date_updated DATETIME ON UPDATE CURRENT_TIMESTAMP, date_deleted DATETIME DEFAULT NULL, FOREIGN KEY(hotel_id) REFERENCES remmie.hotels(id));